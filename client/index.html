<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title>Veestream</title>
    <meta name="title" content="Doomout">
    <meta name="description" content="A video streaming API for easy video integration on the web and native platforms.">
    <meta name="keywords" content="video, video streaming, API, video cms,low latency, flexible api">
    <meta name="author" content="@amschel">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://veestream.tech">
    <meta property="og:title" content="Veestream">
    <meta property="og:description" content="An efficient solution for integrating video content on the web and native platforms.">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://veestream.tech/">
    <meta property="twitter:title" content="Veestream">
    <meta property="twitter:description" content="A video streaming API for easy video integration on the web and native platforms.">
    <link href="images/thumbnail.png" rel="apple-touch-icon">
    <link href="images/thumbnail.png" rel="shortcut icon">
    <link href="css/styles.css" rel="stylesheet">
  </head>

<body>
 
  <script src="https://www.paypal.com/sdk/js?client-id=AbyiH6RWVmLK3byU5W0DyZ8bRN4iLmqMQ5y28zrpkVpqWi1fif3p-jklMHZecbrm-tJ-CDz_0Wv2RbKQ&currency=USD"></script>
  <div style="overflow:scroll" class="modal">
  <button type="button" class="modal-close modal-toggle"><i class="icon" data-feather="x"></i><span class="hide-mobile">ESC</span></button>
  <div class="modal-content">
    <div class="success">

      <h2 class="modal-title first-name" id="title-name"></h2>
      <p id="api-key-title">Click on your api key to copy <span  id='api' class='api-credential'></span><br></br>
     <P id="keep-it-safe">Keep it safe</P>
     <p id="err"></p>
      </p>
      <a href="index.html" class="button">Back home</a>
    </div>
    <div class="form-content">



      <form class='form' name='doomoutForm' method='POST' action="http://localhost:8000/generate-api-key"><input type='hidden' name='form-name' value='doomoutForm' />
             <p >Subscribe for the API key base plan at <h3>9 USD.</h3> <span><h3> 15GB memory valid for 6 months</h3></span></p>
             <p>Upload upto 30 videos each of maximum 500mb</p>
        <div class="group">
          
          <input id="email-input" type="email" name="email" placeholder="&nbsp;" autocomplete="off" required>
          <label for="email">Email</label>
          <span class="border"></span>
        </div>
        <div class="group">
          <input type="password" name="password" placeholder="&nbsp;" autocomplete="off" required>
          <label for="email">Password</label>
          <span class="border"></span>
        </div>
       <div id="paypal-button-container"></div>  
        <button  id="api-key-button" class="button">GET NEW API KEY</button>
      </br>
      <a href="/apikey.html">already a veestream user? get your key</a>
      </form>
    </div>
  </div>
</div>
  <div style="margin-top: 80px;" class="content">
    <a href="index.html" class="logo"><img src="images/thumbnail.png" alt="logo"/></a>
    <div class="hero">
      <p class="title">VeeStream, a highly versatile video streaming API that enables users to seamlessly upload their video content and obtain API endpoints to stream their videos, access video metadata, and effortlessly integrate their content into any web or mobile platform. It is an invaluable tool for educators who want to share video content online, content creators who wish to incorporate video content into their platform, and businesses that require an in-house video sharing solution. With VeeStream, users can easily manage their video content, improve their user experience, and reach a wider audience across multiple platforms.</p>
      <h1 class="title shift clip">
        <span class="word-shift">
          <b class="is-visible">Online educators&nbsp;</b>
          <b>Content creators</b>
          <b>Developers</b>
          <b>Startups</b>
          <b>corporates</b>
          <b>Online course platforms </b>
          <b>Marketing and advertising</b>
        </span>
      </h1>
      <button id="get-started" class="button modal-toggle">Get started</button>
     <a id="go-to-docs" ><button  class="button ">Go to API docs</button></a> 
      <p class="subtitle">Integrate with web and mobile platforms </p>
    </div>
    <div class="screen-wrapper">
      <img src="images/screen.jpg" class="screen" alt="screen"/>
    </div>
    <section class="section section-features">
      <h2 class="title">Seamless video integration for any platform</h1>
      <div class="features">
        <img src="images/overlay-left.svg" class="overlay-left hide-mobile" alt="overlay"/>
        <img src="images/overlay-right.svg" class="overlay-right hide-mobile" alt="overlay"/>
        <img src="images/overlay-top.svg" class="overlay-top show-mobile" alt="overlay"/>
        <img src="images/overlay-bottom.svg" class="overlay-bottom show-mobile" alt="overlay"/>
        <div class="row donts">
          <div class="feature"><i class="icon" data-feather="x"></i> Flexible</div>
          <div class="feature"><i class="icon" data-feather="x"></i> Easy to use</div>
          <div class="feature"><i class="icon" data-feather="x"></i> Integrate anywhere</div>
          <div class="feature"><i class="icon" data-feather="x"></i>High quality videos</div>
          <div class="feature"><i class="icon" data-feather="x"></i> Secure storage</div>

          <!-- Repeat-->
          <div class="feature"><i class="icon" data-feather="x"></i> Flexible</div>
          <div class="feature"><i class="icon" data-feather="x"></i> Easy to use</div>
          <div class="feature"><i class="icon" data-feather="x"></i> Integrate anywhere</div>
          <div class="feature"><i class="icon" data-feather="x"></i>High quality videos</div>
          <div class="feature"><i class="icon" data-feather="x"></i> Secure storage</div>

        </div>
        <div class="row dos">
          <div class="feature"><i class="icon" data-feather="x"></i> Monetize videos</div>
          <div class="feature"><i class="icon" data-feather="x"></i> Convert to different formats</div>
          <div class="feature"><i class="icon" data-feather="x"></i> Thumbnail genearation</div>
          <div class="feature"><i class="icon" data-feather="x"></i> faster uploads</div>
          <div class="feature"><i class="icon" data-feather="x"></i> low latency</div>

          <!-- Repeat-->
          <div class="feature"><i class="icon" data-feather="x"></i> Monetize videos</div>
          <div class="feature"><i class="icon" data-feather="x"></i> Convert to different formats</div>
          <div class="feature"><i class="icon" data-feather="x"></i> Thumbnail generation</div>
          <div class="feature"><i class="icon" data-feather="x"></i> faster uploads</div>
          <div class="feature"><i class="icon" data-feather="x"></i> low latency</div>
        </div>
      </div>
      <!-- <p>If youâ€™re looking for an email client with more features, try <a href="">these</a>.</p> -->
    </section>

  
 
    <footer class="footer">
     <a href="mailto:support@veestream.tech"> <p>support@veestream.tech</p></a>
    </footer>
    </div>
  </div>
  <script src="./js/jquery/3.4.1/jquery.min.js"></script>
<script src="js/scripts.min.js"></script>
<script>
  let transactionKey=null;
const baseUrl = window.location.protocol + "//" + window.location.host;
  // Close modal on escape key
  document.getElementById('go-to-docs').href='./docs.html'
  $(document).keyup(function(e) {
    if (e.key === "Escape") {
      $('.modal').removeClass('modal-show');
      $('.content').removeClass('content-blurred');
      $('body').removeClass('no-scroll');
    }
  });

  $(function(){

    // Provider card slider
    $('.slider').flickity({
      pauseAutoPlayOnHover: false,
      prevNextButtons: false,
      cellAlign: 'center',
      draggable:  false,
      freeScroll: false,
      wrapAround: true,
      pageDots: false,
      autoPlay: 3000,
    });

    // Imbox zero slider
    $('.zero-slider').flickity({
      pauseAutoPlayOnHover: false,
      prevNextButtons: false,
      cellAlign: 'center',
      freeScroll: false,
      wrapAround: false,
      draggable: false,
      pageDots: false,
      autoPlay: 3000,
      fade: true,
    });

    // Open & close modal
    $('.modal-toggle').click(function(){
      $('.modal').toggleClass('modal-show');
      $('.content').toggleClass('content-blurred');
      $('body').toggleClass('no-scroll');
    });

    // Reserve username form
   

    // Feather icons
    feather.replace()

    // ScrollReveal
    ScrollReveal().reveal('.hero, .title, .screen, .features, .cards, .zero-slider', {
      distance: '40px',
      duration: 2000,
      mobile: false,
      reset: false,
      opacity: 0
    });

  });
  const getApiKeyButton= document.getElementById("api-key-button")

  getApiKeyButton.addEventListener('click',async (e)=>{
    const emailInput = document.querySelector('input[name="email"]');
const email = emailInput.value;
const passwordInput = document.querySelector('input[name="password"]');
const password = passwordInput.value;
    e.preventDefault()
    if(!transactionKey){
      return alert(`payment was not made or was unsucessful`)
    }




const res = await fetch(`${baseUrl}/generate-api-key`, {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',

  },
  body: JSON.stringify({ email,password,transactionKey })
});

    const {apikey}=await res.json()

    document.getElementsByClassName('form-content')[0].classList.add('form-content-hide');
    document.getElementsByClassName('success')[0].classList.add('success-show');
    if(res.status==409){
    document.getElementById('api').remove()
    document.getElementById('api-key-title').remove()
    document.getElementById('keep-it-safe').remove()
   return  document.getElementById('err').textContent=`email field cannot be empty`
}
if(res.status==403){
    document.getElementById('api').remove()
    document.getElementById('api-key-title').remove()
    document.getElementById('keep-it-safe').remove()
   return  document.getElementById('err').textContent=`wrong password!`
}
document.getElementById('err').remove()
    document.getElementById('api').textContent=apikey
  })
  const apiSpan = document.getElementById('api');

// Add click event listener to the API span
apiSpan.addEventListener('click', () => {
  const range = document.createRange();
  range.selectNodeContents(apiSpan);
  const selection = window.getSelection();
  selection.removeAllRanges();
  selection.addRange(range);
  document.execCommand('copy');
  alert('API key copied to clipboard!');
});
paypal
    .Buttons({
      // Sets up the transaction when a payment button is clicked
      createOrder: function (data, actions) {
       
        return actions.order.create({
          purchase_units: [
            {
              amount: {
                currency_code: "USD",
                value: '9.00' // Change this to the amount you want to charge
              }
            }
          ]
        });
      },
      // Finalize the transaction after payer approval
      onApprove: function (data, actions) {
        return actions.order.capture().then(function (details) {
          // Successful capture! For dev/demo purposes:
          console.log('Capture result', details, JSON.stringify(details, null, 2));
          const transaction = details.purchase_units[0].payments.captures[0];
transactionKey= transaction.id 
          alert(
            'Transaction' +
            transaction.status +
            ': ' +
            transaction.id +
            '\n\nSee console for all available details'
          );


           window.location.href='#email-input'
          // Or go to another URL:  actions.redirect('thank_you.html');
        });
      },
      onError: function (error) {
      console.error('PayPal error', error);
      alert('An error occurred during the PayPal transaction. Please try again later.');
      window.location.href='#get-started'
    }
  
      
    })
    
    .render('#paypal-button-container');
</script>

</body>

</html>